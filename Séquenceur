import pygame
from pygame.locals import *

res = (800, 540)
pygame.init()
pygame.display.set_caption("Test")

screen = pygame.display.set_mode(res)
kick = pygame.image.load("Images/Kick.png").convert_alpha()
snare = pygame.image.load("Images/Kick.png").convert_alpha()
clap = pygame.image.load("Images/Kick.png").convert_alpha()
hats = pygame.image.load("Images/Kick.png").convert_alpha()
objet = pygame.Surface((800,540)).convert_alpha()
objet.fill(pygame.Color('gray15'))
boite = pygame.image.load("Images/Fond.png")
selected = 0
posx = 50
posy = 50
kick_position = screen.blit(kick,(posx,posy))
poscasex = posx - 35
poscasey = posy - 25
Boucle = True

while Boucle:
    for event in pygame.event.get():
        if event.type == QUIT:
            Boucle = False
            
        screen.blit(objet, (0,0))  
        screen.blit(boite,(100, 70))
        screen.blit(kick, (poscasex, poscasey))
        pygame.display.flip()
        
        
        if event.type == pygame.MOUSEBUTTONDOWN and event.button == 1 and kick_position.collidepoint(event.pos):
            selected = 1
            
            
        elif event.type == pygame.MOUSEBUTTONUP and event.button == 1 and selected == 1:
            selected = 0
            posx,posy = pygame.mouse.get_pos()
            screen.blit(objet, (0,0))
            screen.blit(boite,(100, 70))
            screen.blit(kick,(posx-35,posy-25))
            pygame.display.flip()
            if posx >= 125 and posx <= 195 and posy > 80 and posy < 130:
                print("Ã§a marche")
                screen.blit(objet, (0,0))
                screen.blit(boite,(100, 70))
                screen.blit(kick,(125,80))
                pygame.display.flip()
                
                
        elif event.type == MOUSEMOTION and selected == 1:
            r = screen.blit(screen, kick_position, kick_position)
            kick_position.move_ip(event.rel)#a chaque fois il y a mouvement de souris, le personnage prend la nouvelle position du curseur
            pygame.display.update((r,screen.blit(kick, kick_position)))
            
            
        poscasex = posx - 35
        poscasey = posy - 25
        
        
pygame.quit()
